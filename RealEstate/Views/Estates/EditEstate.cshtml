@model RealEstate.Models.EstateModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<html>
<head>
    <style>
        .carousel-inner > .item > img,
        .carousel-inner > .item > a > img {
            width: 40%;
            margin: auto;
        }
    </style>
</head>
<body>
    @using (Html.BeginForm("EditEstate", "Estates", FormMethod.Post, new { @class = "well row form-horizontal col-md-24" }))
    {
        <div class="well row col-md-24"> 
            <div class="well-row col-md-8">
                @Html.HiddenFor(model => model.estate.id)
                <label style="width:100px;">Манагер</label>
                @Html.DropDownListFor(model => model.estate.Users.id, Model.listUser as SelectList, new { style = "width:200px" })
                @Html.ValidationMessageFor(model => model.estate.Users.id, "", new { @class = "text-danger" })
                <br>
                <label style="width:100px;">Область</label>
                @Html.DropDownListFor(model => model.estate.Regions.id, Model.listRegion as SelectList, new { style = "width:200px" })
                @Html.ValidationMessageFor(model => model.estate.Regions.id, "", new { @class = "text-danger" })
                <br>
                <label style="width:100px;">Город</label>
                @Html.DropDownListFor(model => model.estate.Cities.id, Model.listCity as SelectList, new { style = "width:200px" })
                @Html.ValidationMessageFor(model => model.estate.Cities.id, "", new { @class = "text-danger" })
                <br>
                <label style="width:100px;">Район</label>
                @Html.EditorFor(model => model.estate.district)
                @Html.ValidationMessageFor(model => model.estate.district, "", new { @class = "text-danger" })
                <br>
                <label style="width:100px;">Улица</label>
                @Html.EditorFor(model => model.estate.street)
                @Html.ValidationMessageFor(model => model.estate.street, "", new { @class = "text-danger" })
                <br>
                <label style="width:100px;">№ дома</label>
                @Html.EditorFor(model => model.estate.building)
                @Html.ValidationMessageFor(model => model.estate.building, "", new { @class = "text-danger" })
                <br>
                <label style="width:100px;">№ квартиры</label>
                @Html.EditorFor(model => model.estate.apt)
                @Html.ValidationMessageFor(model => model.estate.apt, "", new { @class = "text-danger" })
                <br>
            </div>
            <div class="well-row col-md-7">
                <label style="width:150px;">Общая площадь</label>
                @Html.EditorFor(model => model.estate.square)
                @Html.ValidationMessageFor(model => model.estate.square, "", new { @class = "text-danger" })
                <br />
                <label style="width:150px;">Цена</label>
                @Html.EditorFor(model => model.estate.price)
                @Html.ValidationMessageFor(model => model.estate.price, "", new { @class = "text-danger" })
                <br>
                <label style="width:150px;">Этаж</label>
                @Html.EditorFor(model => model.estate.floor)
                @Html.ValidationMessageFor(model => model.estate.floor, "", new { @class = "text-danger" })
                <br>
                <label style="width:150px;">Всего этажей</label>
                @Html.EditorFor(model => model.estate.floors)
                @Html.ValidationMessageFor(model => model.estate.floors, "", new { @class = "text-danger" })
                <br>
                <label style="width:150px;">Кол-во комнат</label>
                @Html.EditorFor(model => model.estate.rooms)
                @Html.ValidationMessageFor(model => model.estate.rooms, "", new { @class = "text-danger" })
                <br>
            </div>
            <div class="well-row col-md-9">
                <label style="width:80px;">Описание</label>
                @Html.TextAreaFor(model => model.estate.descr, 7, 48, null)
                @Html.ValidationMessageFor(model => model.estate.descr, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="well-row col-md-24" style="width:100%">
            <div ng-app="appRealEstate" ng-controller="estateEditController">
                <span ng-init="setCurrentEstateId(@Model.estate.id)"></span>
                <span ng-init="getImageList()"></span>
                <div id="dynamiccontentcarousel" class="carousel slide" data-interval="2000">

                    <ol class="carousel-indicators">
                        <li style="align-items:center" data-target="#dynamiccontentcarousel" data-ng-repeat="slide in slides" data-ng-class="{active : $first}" data-slide-to="{{$index}}"></li>
                    </ol>

                    <div class="carousel-inner" role="listbox">
                        <div class="item" data-ng-repeat="slide in slides" data-ng-class="{active : $first}" width="200">
                            <img data-ng-src="{{slide}}" alt=" carousel {{$index}}" style="max-height:400px;min-height:400px" />
                        </div>
                    </div>
                    <!--
                    <div class="span6">
                        Interval, in milliseconds:
                        <input type="number" data-ng-model="myInterval">
                        <br />
                        Enter a negative number to stop the interval.
                    </div>
                    /!-->
                    <div class="m-carousel-controls m-carousel-pagination well row col-md-24">
                        
                            <a class="m-carousel-controls btn btn-danger" ng-click="deleteImage()" href="#" role="button" data-slide="next" style="align-items:center">
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                <span class="sr-only">delete</span>
                            </a>
                            <a class="m-carousel-control btn btn-default" href="#dynamiccontentcarousel" role="button" data-slide="prev">
                                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="m-carousel-control btn btn-default" href="#dynamiccontentcarousel" role="button" data-slide="next">
                                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        
                        
                    </div>
                    <div class="well row col-md-6">
                        <input onchange="angular.element(this).scope().file_changed(this)"
                               type="file" accept="image/*">
                    </div>
                </div>
                
            </div>
        </div>
        <div class="well-row" style="width:100%">
            @Html.Hidden("Id", @Model.estate.id)
            <input type="submit" value="Сохранить" />
        </div>
    }

</body>

</html>





